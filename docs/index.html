<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Analysing and Plotting Growth Curves • chartplotter</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="bootstrap-toc.css">
<script src="bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script><meta property="og:title" content="Analysing and Plotting Growth Curves">
<meta property="og:description" content="This package plots the target child's growth curves on 
    pre-defined charts, finds matches from donor data similar to the 
    target child, predicts the most likely future visit value, and 
    graphically presents the inherent uncertainty around the 
    prediction.">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-home">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">chartplotter</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.20.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="reference/index.html">Reference</a>
</li>
<li>
  <a href="news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/stefvanbuuren/chartplotter/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="contents col-md-9">
<div id="chartplotter" class="section level1">
<div class="page-header"><h1 class="hasAnchor">
<a href="#chartplotter" class="anchor"></a>chartplotter</h1></div>
<!-- badges: start -->
<!-- badges: end -->
<p>The goal of <code>chartplotter</code> is to</p>
<ul>
<li>plot the child’s growth curves on pre-defined charts;</li>
<li>plot two (visit) lines indicating a present and a future visit;</li>
<li>find matches from donor data similar to the target child;</li>
<li>predict the most likely future visit value;</li>
<li>represent the inherent uncertainty of the prediction.</li>
</ul>
<div id="installation" class="section level2">
<h2 class="hasAnchor">
<a href="#installation" class="anchor"></a>Installation</h2>
<p>You need two things in order to install <code>chartplotter</code>:</p>
<ol>
<li><p>A personal access token (PAT) from <a href="https://github.com/settings/tokens" class="uri">https://github.com/settings/tokens</a>. I assume the token is stored in the environmental variable <code>GITHUB_PAT</code>, so that <code><a href="https://rdrr.io/r/base/Sys.getenv.html">Sys.getenv("GITHUB_PAT")</a></code> returns your token;</p></li>
<li><p>Access to the following private repositories: <code>stefvanbuuren/curvematching</code> and <code>stefvanbuuren/donorloader</code>.</p></li>
</ol>
<p>The following statements will install the <code>chartplotter</code> package, as well as any of its dependencies:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html">install.packages</a></span><span class="op">(</span><span class="st">"remotes"</span><span class="op">)</span>
<span class="fu">remotes</span><span class="fu">::</span><span class="fu"><a href="https://remotes.r-lib.org/reference/install_github.html">install_github</a></span><span class="op">(</span><span class="st">"stefvanbuuren/chartplotter"</span><span class="op">)</span></code></pre></div>
</div>
<div id="example" class="section level2">
<h2 class="hasAnchor">
<a href="#example" class="anchor"></a>Example</h2>
<p>The main function in <code>chartplotter</code> is <code><a href="reference/process_chart.html">process_chart()</a></code>.</p>
<div id="example-1-plot-childs-data-onto-a-growth-chart" class="section level3">
<h3 class="hasAnchor">
<a href="#example-1-plot-childs-data-onto-a-growth-chart" class="anchor"></a>Example 1: Plot child’s data onto a growth chart</h3>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/stefvanbuuren/chartplotter">chartplotter</a></span><span class="op">)</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/r-lib/svglite">svglite</a></span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/utils/data.html">data</a></span><span class="op">(</span><span class="st">"installed.cabinets"</span>, package <span class="op">=</span> <span class="st">"jamestest"</span><span class="op">)</span>
<span class="va">tgt</span> <span class="op">&lt;-</span> <span class="va">installed.cabinets</span><span class="op">$</span><span class="va">smocc</span><span class="op">[[</span><span class="st">"Laura S"</span><span class="op">]</span><span class="op">]</span>
<span class="fu">svglite</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/svglite/man/svglite.html">svglite</a></span><span class="op">(</span>file <span class="op">=</span> <span class="st">"figures/chart1.svg"</span>, height <span class="op">=</span> <span class="fl">29.7</span><span class="op">/</span><span class="fl">2.54</span>, width <span class="op">=</span> <span class="fl">21</span><span class="op">/</span><span class="fl">2.54</span><span class="op">)</span>
<span class="va">g</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/process_chart.html">process_chart</a></span><span class="op">(</span><span class="va">tgt</span>, chartcode <span class="op">=</span> <span class="st">"NMBA"</span><span class="op">)</span>
<span class="fu">grid</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/r/grid/grid.draw.html">grid.draw</a></span><span class="op">(</span><span class="va">g</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/grDevices/dev.html">dev.off</a></span><span class="op">(</span><span class="op">)</span>
<span class="co">#&gt; quartz_off_screen </span>
<span class="co">#&gt;                 2</span></code></pre></div>
<div class="figure" style="text-align: center">
<img src="figures/chart1.svg" alt="Dutch girls, 0-4 years" width="100%"><p class="caption">
Dutch girls, 0-4 years
</p>
</div>
</div>
<div id="example-2-predict-height-at-3y9m-when-child-is-3-months" class="section level3">
<h3 class="hasAnchor">
<a href="#example-2-predict-height-at-3y9m-when-child-is-3-months" class="anchor"></a>Example 2: Predict height at 3y9m when child is 3 months</h3>
<p>Suppose the baby is 3 months old, and that we want to predict the future child’s height at the age of 3y9m. The following examples finds 25 matches to the child, and plots the observed curves of those matches as grey curves.</p>
<p>The blue line indicates the predicted height at age 3y9m. The variation between the grey curves at age 3y9m indicates the amount of uncertainty of the prediction.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/Random.html">set.seed</a></span><span class="op">(</span><span class="fl">61771</span><span class="op">)</span>
<span class="fu">svglite</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/svglite/man/svglite.html">svglite</a></span><span class="op">(</span>file <span class="op">=</span> <span class="st">"figures/chart2.svg"</span>, height <span class="op">=</span> <span class="fl">29.7</span><span class="op">/</span><span class="fl">2.54</span>, width <span class="op">=</span> <span class="fl">21</span><span class="op">/</span><span class="fl">2.54</span><span class="op">)</span>
<span class="va">g</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/process_chart.html">process_chart</a></span><span class="op">(</span><span class="va">tgt</span>, chartcode <span class="op">=</span> <span class="st">"NMBA"</span>, dnr <span class="op">=</span> <span class="st">"2-4"</span>, period <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">0.25</span>, <span class="fl">3.75</span><span class="op">)</span>, 
                   nmatch <span class="op">=</span> <span class="fl">25</span>, show_future <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>
<span class="co">#&gt; Warning: `mutate_()` was deprecated in dplyr 0.7.0.</span>
<span class="co">#&gt; Please use `mutate()` instead.</span>
<span class="co">#&gt; See vignette('programming') for more help</span>
<span class="fu">grid</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/r/grid/grid.draw.html">grid.draw</a></span><span class="op">(</span><span class="va">g</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/grDevices/dev.html">dev.off</a></span><span class="op">(</span><span class="op">)</span>
<span class="co">#&gt; quartz_off_screen </span>
<span class="co">#&gt;                 2</span></code></pre></div>
<div class="figure" style="text-align: center">
<img src="figures/chart2.svg" alt="Dutch girls, 0-4 years" width="100%"><p class="caption">
Dutch girls, 0-4 years
</p>
</div>
</div>
<div id="example-3-predict-height-at-3y9m-when-child-is-2-years" class="section level3">
<h3 class="hasAnchor">
<a href="#example-3-predict-height-at-3y9m-when-child-is-2-years" class="anchor"></a>Example 3: Predict height at 3y9m when child is 2 years</h3>
<p>Same as before, but now using all data up to (but not beyond) the age of 2 years. The variation between the grey curves at age 3y9m is now much smaller.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu">svglite</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/svglite/man/svglite.html">svglite</a></span><span class="op">(</span>file <span class="op">=</span> <span class="st">"figures/chart3.svg"</span>, height <span class="op">=</span> <span class="fl">29.7</span><span class="op">/</span><span class="fl">2.54</span>, width <span class="op">=</span> <span class="fl">21</span><span class="op">/</span><span class="fl">2.54</span><span class="op">)</span>
<span class="va">g</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/process_chart.html">process_chart</a></span><span class="op">(</span><span class="va">tgt</span>, chartcode <span class="op">=</span> <span class="st">"NMBA"</span>, dnr <span class="op">=</span> <span class="st">"2-4"</span>, period <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">2.0</span>, <span class="fl">3.75</span><span class="op">)</span>, 
                   nmatch <span class="op">=</span> <span class="fl">25</span>, show_future <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>
<span class="fu">grid</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/r/grid/grid.draw.html">grid.draw</a></span><span class="op">(</span><span class="va">g</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/grDevices/dev.html">dev.off</a></span><span class="op">(</span><span class="op">)</span>
<span class="co">#&gt; quartz_off_screen </span>
<span class="co">#&gt;                 2</span></code></pre></div>
<div class="figure" style="text-align: center">
<img src="figures/chart3.svg" alt="Dutch girls, 0-4 years" width="100%"><p class="caption">
Dutch girls, 0-4 years
</p>
</div>
</div>
<div id="example-4-square-plot-of-height-chart-nmbh" class="section level3">
<h3 class="hasAnchor">
<a href="#example-4-square-plot-of-height-chart-nmbh" class="anchor"></a>Example 4: Square plot of height, chart <code>NMBH</code>
</h3>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu">svglite</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/svglite/man/svglite.html">svglite</a></span><span class="op">(</span>file <span class="op">=</span> <span class="st">"figures/chart4.svg"</span>, height <span class="op">=</span> <span class="fl">18</span><span class="op">/</span><span class="fl">2.54</span>, width <span class="op">=</span> <span class="fl">18</span><span class="op">/</span><span class="fl">2.54</span><span class="op">)</span>
<span class="va">g</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/process_chart.html">process_chart</a></span><span class="op">(</span><span class="va">tgt</span>, chartcode <span class="op">=</span> <span class="st">"NMBH"</span>, quiet <span class="op">=</span> <span class="cn">FALSE</span>, dnr <span class="op">=</span> <span class="st">"2-4"</span>,
                   period <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">2.0</span>, <span class="fl">3.75</span><span class="op">)</span>, nmatch <span class="op">=</span> <span class="fl">25</span>,
                   show_future <span class="op">=</span> <span class="cn">TRUE</span>, show_realized <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>
<span class="co">#&gt; chartcode:  NMBH</span>
<span class="fu">grid</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/r/grid/grid.draw.html">grid.draw</a></span><span class="op">(</span><span class="va">g</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/grDevices/dev.html">dev.off</a></span><span class="op">(</span><span class="op">)</span>
<span class="co">#&gt; quartz_off_screen </span>
<span class="co">#&gt;                 2</span></code></pre></div>
<div class="figure" style="text-align: center">
<img src="figures/chart4.svg" alt="Dutch girls, 0-4 years" width="100%"><p class="caption">
Dutch girls, 0-4 years
</p>
</div>
</div>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <div class="links">
<h2>Links</h2>
<ul class="list-unstyled">
<li>Browse source code at <br><a href="https://github.com/stefvanbuuren/chartplotter/">https://​github.com/​stefvanbuuren/​chartplotter/​</a>
</li>
</ul>
</div>
<div class="license">
<h2>License</h2>
<ul class="list-unstyled">
<li><a href="LICENSE.html">Full license</a></li>
<li><small>AGPL (&gt;= 3)</small></li>
</ul>
</div>
<div class="developers">
<h2>Developers</h2>
<ul class="list-unstyled">
<li>Stef van Buuren <br><small class="roles"> Author, maintainer </small>  </li>
</ul>
</div>

  </div>
</div>


      <footer><div class="copyright">
  <p>Developed by Stef van Buuren.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
